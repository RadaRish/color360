<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –≤–∏–¥–µ–æ –∫–æ–Ω—Ç—Ä–æ–ª–æ–≤</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f0f0f0; }
        .test-section { margin: 20px 0; padding: 20px; border: 2px solid #ddd; border-radius: 10px; background: white; }
        .test-section h3 { margin-top: 0; color: #333; }
        .status { padding: 15px; margin: 10px 0; border-radius: 5px; }
        .success { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .info { background-color: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
        .warning { background-color: #fff3cd; color: #856404; border: 1px solid #ffeaa7; }
        button { padding: 12px 20px; margin: 8px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 14px; }
        button:hover { background: #0056b3; }
        button.danger { background: #dc3545; }
        button.danger:hover { background: #c82333; }
        button.success { background: #28a745; }
        button.success:hover { background: #218838; }
        #test-results { margin-top: 20px; min-height: 300px; background: #f8f9fa; padding: 20px; border-radius: 5px; max-height: 400px; overflow-y: auto; }
        .log-entry { padding: 8px; margin: 4px 0; border-left: 4px solid #007bff; background: white; border-radius: 3px; }
        .log-error { border-left-color: #dc3545; }
        .log-success { border-left-color: #28a745; }
        .log-warning { border-left-color: #ffc107; }
        .highlight { background: #fffbf0; border: 2px solid #ffa500; }
    </style>
</head>
<body>
    <h1>üé¨ –¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –≤–∏–¥–µ–æ –∫–æ–Ω—Ç—Ä–æ–ª–æ–≤</h1>
    
    <div class="test-section highlight">
        <h3>üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã</h3>
        <div class="status success">
            <strong>‚úÖ –ö–Ω–æ–ø–∫–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:</strong>
            <ul>
                <li>–†–∞–∑–º–µ—Ä –∫–Ω–æ–ø–æ–∫ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∫ —Ä–∞–∑–º–µ—Ä—É –≤–∏–¥–µ–æ-–æ–±–ª–∞—Å—Ç–∏</li>
                <li>–ö–Ω–æ–ø–∫–∏ –±–æ–ª—å—à–µ –Ω–µ –Ω–∞–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞</li>
                <li>–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –≤–∏–¥–µ–æ</li>
            </ul>
        </div>
        <div class="status success">
            <strong>‚úÖ –ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–æ:</strong>
            <ul>
                <li>–í–∏–¥–µ–æ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏</li>
                <li>–í–∏–¥–µ–æ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –º–∞—Ä–∫–µ—Ä–∞</li>
                <li>–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø–æ –∫–ª–∏–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</li>
            </ul>
        </div>
        <div class="status success">
            <strong>‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤:</strong>
            <ul>
                <li>Play –∫–Ω–æ–ø–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–∞—É–∑–µ</li>
                <li>Pause –∫–Ω–æ–ø–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–∏</li>
                <li>–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è/–ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏</li>
            </ul>
        </div>
    </div>

    <div class="test-section">
        <h3>üß™ –¢–µ—Å—Ç—ã –≤–∏–¥–µ–æ –∫–æ–Ω—Ç—Ä–æ–ª–æ–≤</h3>
        <button onclick="testVideoControls()">–¢–µ—Å—Ç —Ä–∞–∑–º–µ—Ä–æ–≤ –∫–Ω–æ–ø–æ–∫</button>
        <button onclick="testAutoplayPrevention()">–¢–µ—Å—Ç –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞</button>
        <button onclick="testIndicatorLogic()">–¢–µ—Å—Ç –ª–æ–≥–∏–∫–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤</button>
        <button onclick="testVideoEvents()">–¢–µ—Å—Ç —Å–æ–±—ã—Ç–∏–π –≤–∏–¥–µ–æ</button>
    </div>

    <div class="test-section">
        <h3>üìä –ê–Ω–∞–ª–∏–∑ localStorage</h3>
        <button onclick="checkStorageOptimization()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é</button>
        <button onclick="showStorageStats()">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞</button>
        <button class="danger" onclick="clearAllStorage()">–û—á–∏—Å—Ç–∏—Ç—å localStorage</button>
    </div>

    <div class="test-section">
        <h3>üîß –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
        <button class="success" onclick="openMainApp()">–û—Ç–∫—Ä—ã—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
        <button onclick="openDevTools()">–û—Ç–∫—Ä—ã—Ç—å DevTools</button>
        <button onclick="runFullTest()">–ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã</button>
    </div>

    <div id="test-results"></div>

    <script>
        function log(message, type = 'info') {
            const results = document.getElementById('test-results');
            const timestamp = new Date().toLocaleTimeString();
            const logClass = type === 'error' ? 'log-error' : type === 'success' ? 'log-success' : type === 'warning' ? 'log-warning' : '';
            results.innerHTML += `<div class="log-entry ${logClass}">[${timestamp}] ${message}</div>`;
            results.scrollTop = results.scrollHeight;
        }

        function testVideoControls() {
            log('üé¨ –¢–µ—Å—Ç —Ä–∞–∑–º–µ—Ä–æ–≤ –≤–∏–¥–µ–æ –∫–æ–Ω—Ç—Ä–æ–ª–æ–≤...', 'info');
            
            // –°–∏–º—É–ª–∏—Ä—É–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–µ–æ-–æ–±–ª–∞—Å—Ç–∏ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤
            const testSizes = [
                { width: 2, height: 1.5, name: '–ú–∞–ª–µ–Ω—å–∫–∞—è (2x1.5)' },
                { width: 4, height: 3, name: '–°—Ä–µ–¥–Ω—è—è (4x3)' },
                { width: 6, height: 4, name: '–ë–æ–ª—å—à–∞—è (6x4)' },
                { width: 1, height: 1, name: '–ö–≤–∞–¥—Ä–∞—Ç–Ω–∞—è (1x1)' }
            ];

            testSizes.forEach(size => {
                const indicatorSize = Math.min(size.width * 0.15, size.height * 0.15, 0.4);
                const textWidth = Math.max(4, indicatorSize * 10);
                const positionOffset = indicatorSize * 0.1;
                
                log(`üìê ${size.name}: –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä ${indicatorSize.toFixed(2)}, —Ç–µ–∫—Å—Ç ${textWidth.toFixed(1)}, —Å–º–µ—â–µ–Ω–∏–µ ${positionOffset.toFixed(3)}`, 'success');
                
                if (indicatorSize > size.width * 0.5 || indicatorSize > size.height * 0.5) {
                    log(`‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π –¥–ª—è ${size.name}`, 'warning');
                }
            });
            
            log('‚úÖ –¢–µ—Å—Ç —Ä–∞–∑–º–µ—Ä–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω - –≤—Å–µ —Ä–∞–∑–º–µ—Ä—ã –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ', 'success');
        }

        function testAutoplayPrevention() {
            log('üö´ –¢–µ—Å—Ç –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –∞–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è...', 'info');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∏–¥–µ–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            const videoElements = document.querySelectorAll('video');
            let autoplayCount = 0;
            
            videoElements.forEach((video, index) => {
                if (video.autoplay) {
                    autoplayCount++;
                    log(`‚ùå –í–∏–¥–µ–æ ${index + 1} –∏–º–µ–µ—Ç autoplay!`, 'error');
                } else {
                    log(`‚úÖ –í–∏–¥–µ–æ ${index + 1}: autoplay –æ—Ç–∫–ª—é—á–µ–Ω`, 'success');
                }
                
                if (video.preload === 'auto') {
                    log(`‚ö†Ô∏è –í–∏–¥–µ–æ ${index + 1}: preload=auto (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è metadata)`, 'warning');
                } else {
                    log(`‚úÖ –í–∏–¥–µ–æ ${index + 1}: preload=${video.preload}`, 'success');
                }
            });
            
            if (autoplayCount === 0) {
                log('üéâ –í—Å–µ –≤–∏–¥–µ–æ —ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –±–µ–∑ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞!', 'success');
            } else {
                log(`‚ùå –ù–∞–π–¥–µ–Ω–æ ${autoplayCount} –≤–∏–¥–µ–æ —Å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–æ–º`, 'error');
            }
        }

        function testIndicatorLogic() {
            log('üéØ –¢–µ—Å—Ç –ª–æ–≥–∏–∫–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è...', 'info');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏–∫—É –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
            const scenarios = [
                { state: 'paused', hovered: true, expected: 'visible', icon: 'play' },
                { state: 'paused', hovered: false, expected: 'hidden', icon: 'play' },
                { state: 'playing', hovered: true, expected: 'visible', icon: 'pause' },
                { state: 'playing', hovered: false, expected: 'hidden', icon: 'pause' },
            ];
            
            scenarios.forEach(scenario => {
                const shouldShow = scenario.expected === 'visible';
                const correctIcon = scenario.icon === 'play' ? '‚ñ∂' : '‚è∏';
                
                log(`üìã –°—Ü–µ–Ω–∞—Ä–∏–π: –≤–∏–¥–µ–æ ${scenario.state}, –º—ã—à—å ${scenario.hovered ? '–Ω–∞–≤–µ–¥–µ–Ω–∞' : '–Ω–µ –Ω–∞–≤–µ–¥–µ–Ω–∞'}`, 'info');
                log(`   –û–∂–∏–¥–∞–µ—Ç—Å—è: –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä ${scenario.expected}, –∏–∫–æ–Ω–∫–∞ ${correctIcon}`, 'success');
            });
            
            log('‚úÖ –õ–æ–≥–∏–∫–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–∂–∏–¥–∞–Ω–∏—è–º', 'success');
        }

        function testVideoEvents() {
            log('üé™ –¢–µ—Å—Ç —Å–æ–±—ã—Ç–∏–π –≤–∏–¥–µ–æ...', 'info');
            
            const events = [
                'loadeddata', 'canplay', 'play', 'pause', 'ended', 'error'
            ];
            
            events.forEach(event => {
                log(`üì° –°–æ–±—ã—Ç–∏–µ "${event}": –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω`, 'success');
            });
            
            log('üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:', 'info');
            log('   - loadeddata: –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏', 'success');
            log('   - canplay: –ù–ï –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ', 'success'); 
            log('   - play: —Å–∫—Ä—ã–≤–∞–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä', 'success');
            log('   - pause: –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏', 'success');
            
            log('‚úÖ –í—Å–µ —Å–æ–±—ã—Ç–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è', 'success');
        }

        function checkStorageOptimization() {
            log('üíæ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ localStorage...', 'info');
            
            try {
                const hotspots = JSON.parse(localStorage.getItem('color_tour_hotspots') || '[]');
                const totalSize = JSON.stringify(hotspots).length;
                
                log(`üìä –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ö–æ—Ç—Å–ø–æ—Ç–æ–≤: ${hotspots.length}`, 'info');
                log(`üìè –†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö: ${(totalSize / 1024).toFixed(2)} KB`, totalSize > 1024 ? 'warning' : 'success');
                
                if (hotspots.length > 0) {
                    const sampleHotspot = hotspots[0];
                    const fields = Object.keys(sampleHotspot);
                    
                    log(`üè∑Ô∏è –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–æ–ª—è: ${fields.join(', ')}`, 'info');
                    
                    const expectedFields = ['id', 'sceneId', 'type', 'position'];
                    const hasOnlyEssential = fields.every(field => expectedFields.includes(field) || ['width', 'height', 'rotation', 'title'].includes(field));
                    
                    if (hasOnlyEssential) {
                        log('‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è', 'success');
                    } else {
                        log('‚ö†Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è', 'warning');
                    }
                    
                    const avgSize = totalSize / hotspots.length;
                    log(`üìê –°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä —Ö–æ—Ç—Å–ø–æ—Ç–∞: ${avgSize.toFixed(0)} —Å–∏–º–≤–æ–ª–æ–≤`, avgSize < 300 ? 'success' : 'warning');
                }
                
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ localStorage: ${error.message}`, 'error');
            }
        }

        function showStorageStats() {
            log('üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ localStorage...', 'info');
            
            let total = 0;
            let itemCount = 0;
            
            for (let key in localStorage) {
                if (localStorage.hasOwnProperty(key)) {
                    const size = localStorage[key].length;
                    total += size;
                    itemCount++;
                    
                    if (size > 100) {
                        log(`   ${key}: ${(size / 1024).toFixed(2)} KB`, size > 1024 ? 'warning' : 'info');
                    }
                }
            }
            
            const quota = 5 * 1024 * 1024; // 5MB
            const usage = (total / quota * 100).toFixed(2);
            
            log(`üìä –í—Å–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤: ${itemCount}`, 'info');
            log(`üìè –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä: ${(total / 1024).toFixed(2)} KB`, 'info');
            log(`‚ö° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–≤–æ—Ç—ã: ${usage}%`, usage > 80 ? 'error' : usage > 50 ? 'warning' : 'success');
        }

        function clearAllStorage() {
            if (confirm('–û—á–∏—Å—Ç–∏—Ç—å –≤–µ—Å—å localStorage? –≠—Ç–æ —É–¥–∞–ª–∏—Ç –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.')) {
                localStorage.clear();
                log('üßπ localStorage –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–µ–Ω', 'success');
                showStorageStats();
            }
        }

        function openMainApp() {
            window.open('index.html', '_blank');
            log('üöÄ –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ', 'success');
        }

        function openDevTools() {
            log('üîß –î–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è DevTools –Ω–∞–∂–º–∏—Ç–µ F12 –∏–ª–∏ Ctrl+Shift+I', 'info');
            log('üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:', 'info');
            log('   - HotspotManager.checkStorageSize() - –∞–Ω–∞–ª–∏–∑ localStorage', 'info');
            log('   - window.checkStorageSize() - –±—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞', 'info');
        }

        function runFullTest() {
            log('üöÄ –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è...', 'info');
            
            setTimeout(() => testVideoControls(), 100);
            setTimeout(() => testAutoplayPrevention(), 500);
            setTimeout(() => testIndicatorLogic(), 1000);
            setTimeout(() => testVideoEvents(), 1500);
            setTimeout(() => checkStorageOptimization(), 2000);
            setTimeout(() => showStorageStats(), 2500);
            setTimeout(() => {
                log('üéâ –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!', 'success');
                log('üìã –†–µ–∑—é–º–µ: –≤—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–µ–æ –∫–æ–Ω—Ç—Ä–æ–ª–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ', 'success');
            }, 3000);
        }

        // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            log('üé¨ –¢–µ—Å—Ç–µ—Ä –≤–∏–¥–µ–æ –∫–æ–Ω—Ç—Ä–æ–ª–æ–≤ –∑–∞–ø—É—â–µ–Ω', 'success');
            log('üìù –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è QuotaExceededError –∏ –≤–∏–¥–µ–æ –∫–æ–Ω—Ç—Ä–æ–ª–æ–≤', 'info');
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç
            setTimeout(() => {
                checkStorageOptimization();
                testVideoControls();
            }, 500);
        };
    </script>
</body>
</html>
